# 最近読んだ記事一覧ページ

## イメージ

- 直近3日間で読んだ記事をそれぞれのセクションに分けた形で表示する機能
    - 3日あれば土日を挟んだとしても共有できる
- 専用のページを実装

## 利用シーン

- 最近読んだ記事の中から社内共有するパターン
- Xへの投稿へ
- お気に入り機能で代替していた、共有待ちの記事を移行して明確に

## APIの実装

- routeにエンドポイントを追加 `/recent`
- repositoryでデータを取得
    - 日別で構造的なデータを返したい。日毎にセクションしたいため。
- serviceで組み立て
- 各自のテストコードをtests/unit以下に追記

## フロントエンドの実装

- `/recent`でページを追加
- Cardコンポーネントはそのまま利用する
- 日別で分割して表示する
- Headerにリンクを貼る

## 拡張機能 

影響なし

## ドキュメント運用

- アプリケーション実装後に`docs/機能仕様`内に資料作成する

## 実装タスク

### 1. APIの実装 (基礎)

#### 1-1. データ取得の実装
- [ ] `api/src/repositories/bookmark.ts`にデータ取得メソッドを追加
   - 直近3日間の記事を取得するSQLを実装
   - 取得したデータを日付でグループ化

#### 1-2. サービス層の実装
- [ ] `api/src/services/bookmark.ts`にロジックを追加
   - repositoryから取得したデータを整形
   - 日付ごとのセクションデータ構造を定義

#### 1-3. APIエンドポイントの追加
- [ ] `api/src/routes/bookmarks.ts`に`/recent`エンドポイントを追加
   - GETメソッドの実装
   - serviceを呼び出してデータを返却

### 2. APIのテスト実装

#### 2-1. リポジトリのテスト
- [ ] `api/tests/unit/repositories/bookmark.test.ts`にテストを追加
   - データ取得メソッドのテスト
   - 日付によるグループ化のテスト

#### 2-2. サービスのテスト
- [ ] `api/tests/unit/services/bookmark.test.ts`にテストを追加
   - データ整形ロジックのテスト
   - エッジケース（データなし等）のテスト

#### 2-3. ルートのテスト
- [ ] `api/tests/unit/routes/bookmarks.test.ts`にテストを追加
   - エンドポイントの動作テスト
   - レスポンス形式のテスト

### 3. フロントエンドの実装

#### 3-1. ページの作成
- [ ] `frontend/src/app/recent/`ディレクトリを作成
- [ ] `page.tsx`を実装
   - 基本的なページレイアウト
   - データ取得ロジックの実装

#### 3-2. コンポーネントの再利用と実装
- [ ] 既存の`BookmarkCard`コンポーネントの再利用
- [ ] 日付セクションを表示するコンポーネントの作成
   - セクションタイトル
   - カード一覧の表示

#### 3-3. UIの改善
- [ ] `frontend/src/components/Header.tsx`に新規ページへのリンクを追加
- [ ] レスポンシブデザインの適用
- [ ] ローディング状態の実装

### 4. ドキュメントの作成

#### 4-1. 機能仕様書の作成
- [ ] `docs/機能仕様/最近読んだ記事一覧/`ディレクトリを作成
- [ ] 以下のドキュメントを作成:
   - 01_概要.md
   - 02_API仕様.md
   - 03_フロントエンド仕様.md
