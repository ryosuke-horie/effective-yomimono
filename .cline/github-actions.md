# GitHub Actions設定

## APIの静的解析ワークフロー

### 概要
- ワークフローファイル: `.github/workflows/api-lint.yml`
- 目的: APIディレクトリ内のコードの品質維持
- 使用ツール: Biome

### 実行タイミング
- プッシュ時（apiディレクトリ内のファイル変更時のみ）
- プルリクエスト時（apiディレクトリ内のファイル変更時のみ）

### 実行環境
- OS: Ubuntu Latest
- Node.js: v22
- 作業ディレクトリ: ./api

### 実行手順
1. リポジトリのチェックアウト
2. Node.js v22のセットアップ
   - npm cacheを有効化
   - キャッシュパス: `./api/package-lock.json`
3. 依存関係のインストール（`npm ci`）
4. 静的解析の実行（`npm run lint`）

### キャッシュ戦略
- Node.jsの依存関係をキャッシュ
- package-lock.jsonの変更時にのみキャッシュを更新
- ビルド時間の短縮とリソースの効率的な利用を実現

### エラー時の対応
1. 静的解析でエラーが発生した場合、ワークフローは失敗
2. GitHub上でエラー内容を確認可能
3. ローカルで`npm run lint`を実行して事前確認推奨

## 今後の拡張予定
- Vitestによるユニットテストの追加
- テストカバレッジレポートの生成と確認
- dependabotによる依存関係の自動更新設定

## 注意事項
- プルリクエスト作成前に必ずローカルで静的解析を実行すること
- `npm run format`でコードフォーマットを整えてからコミットすること
- 静的解析のルールは`biome.json`で管理